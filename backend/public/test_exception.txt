Expected response status code [201] but received 400.
Failed asserting that 400 is identical to 201.

The following exception occurred during the last request:

PDOException: SQLSTATE[HY000]: General error: 1 no such column: carts.user_id in C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Database\Connection.php:591
Stack trace:
#0 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Database\Connection.php(591): PDO->prepare('delete from "ca...')
#1 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Database\Connection.php(811): Illuminate\Database\Connection->Illuminate\Database\{closure}('delete from "ca...', Array)
#2 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Database\Connection.php(778): Illuminate\Database\Connection->runQueryCallback('delete from "ca...', Array, Object(Closure))
#3 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Database\Connection.php(583): Illuminate\Database\Connection->run('delete from "ca...', Array, Object(Closure))
#4 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Database\Connection.php(547): Illuminate\Database\Connection->affectingStatement('delete from "ca...', Array)
#5 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(4109): Illuminate\Database\Connection->delete('delete from "ca...', Array)
#6 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1478): Illuminate\Database\Query\Builder->delete()
#7 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Support\Traits\ForwardsCalls.php(23): Illuminate\Database\Eloquent\Builder->delete()
#8 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Support\Traits\ForwardsCalls.php(52): Illuminate\Database\Eloquent\Relations\Relation->forwardCallTo(Object(Illuminate\Database\Eloquent\Builder), 'delete', Array)
#9 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Relations\Relation.php(538): Illuminate\Database\Eloquent\Relations\Relation->forwardDecoratedCallTo(Object(Illuminate\Database\Eloquent\Builder), 'delete', Array)
#10 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\app\Http\Controllers\Api\OrderController.php(89): Illuminate\Database\Eloquent\Relations\Relation->__call('delete', Array)
#11 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(46): App\Http\Controllers\Api\OrderController->store(Object(Illuminate\Http\Request))
#12 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\Api\OrderController), 'store')
#13 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#14 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#15 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->Illuminate\Routing\{closure}(Object(Illuminate\Http\Request))
#16 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#17 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle(Object(Illuminate\Http\Request), Object(Closure))
#18 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#19 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle(Object(Illuminate\Http\Request), Object(Closure), 'sanctum')
#20 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#21 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->Laravel\Sanctum\Http\Middleware\{closure}(Object(Illuminate\Http\Request))
#22 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#23 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#24 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle(Object(Illuminate\Http\Request), Object(Closure))
#25 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#26 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#27 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack(Object(Illuminate\Routing\Route), Object(Illuminate\Http\Request))
#28 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute(Object(Illuminate\Http\Request), Object(Illuminate\Routing\Route))
#29 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute(Object(Illuminate\Http\Request))
#30 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch(Object(Illuminate\Http\Request))
#31 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}(Object(Illuminate\Http\Request))
#32 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#33 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#34 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle(Object(Illuminate\Http\Request), Object(Closure))
#35 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#36 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#37 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle(Object(Illuminate\Http\Request), Object(Closure))
#38 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#39 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle(Object(Illuminate\Http\Request), Object(Closure))
#40 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#41 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle(Object(Illuminate\Http\Request), Object(Closure))
#42 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#43 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle(Object(Illuminate\Http\Request), Object(Closure))
#44 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#45 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle(Object(Illuminate\Http\Request), Object(Closure))
#46 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#47 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle(Object(Illuminate\Http\Request), Object(Closure))
#48 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#49 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle(Object(Illuminate\Http\Request), Object(Closure))
#50 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#51 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#52 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter(Object(Illuminate\Http\Request))
#53 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle(Object(Illuminate\Http\Request))
#54 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call('POST', '/api/v1/orders', Array, Array, Array, Array, '{"items":[{"pro...')
#55 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json('POST', '/api/v1/orders', Array, Array, 0)
#56 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\tests\Feature\OrderPlacementTest.php(70): Illuminate\Foundation\Testing\TestCase->postJson('/api/v1/orders', Array)
#57 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\Framework\TestCase.php(1657): Tests\Feature\OrderPlacementTest->test_user_can_place_order()
#58 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\Framework\TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#59 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#60 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run(Object(Tests\Feature\OrderPlacementTest))
#61 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#62 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#63 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run(Object(PHPUnit\TextUI\Configuration\Configuration), Object(PHPUnit\Runner\ResultCache\DefaultResultCache), Object(PHPUnit\Framework\TestSuite))
#64 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run(Array)
#65 {main}

Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such column: carts.user_id (Connection: sqlite, SQL: delete from "carts" where "carts"."user_id" = 1 and "carts"."user_id" is not null) in C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Database\Connection.php:824
Stack trace:
#0 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Database\Connection.php(778): Illuminate\Database\Connection->runQueryCallback('delete from "ca...', Array, Object(Closure))
#1 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Database\Connection.php(583): Illuminate\Database\Connection->run('delete from "ca...', Array, Object(Closure))
#2 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Database\Connection.php(547): Illuminate\Database\Connection->affectingStatement('delete from "ca...', Array)
#3 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(4109): Illuminate\Database\Connection->delete('delete from "ca...', Array)
#4 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1478): Illuminate\Database\Query\Builder->delete()
#5 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Support\Traits\ForwardsCalls.php(23): Illuminate\Database\Eloquent\Builder->delete()
#6 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Support\Traits\ForwardsCalls.php(52): Illuminate\Database\Eloquent\Relations\Relation->forwardCallTo(Object(Illuminate\Database\Eloquent\Builder), 'delete', Array)
#7 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Relations\Relation.php(538): Illuminate\Database\Eloquent\Relations\Relation->forwardDecoratedCallTo(Object(Illuminate\Database\Eloquent\Builder), 'delete', Array)
#8 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\app\Http\Controllers\Api\OrderController.php(89): Illuminate\Database\Eloquent\Relations\Relation->__call('delete', Array)
#9 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(46): App\Http\Controllers\Api\OrderController->store(Object(Illuminate\Http\Request))
#10 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\Api\OrderController), 'store')
#11 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#12 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#13 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->Illuminate\Routing\{closure}(Object(Illuminate\Http\Request))
#14 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#15 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle(Object(Illuminate\Http\Request), Object(Closure))
#16 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#17 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle(Object(Illuminate\Http\Request), Object(Closure), 'sanctum')
#18 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#19 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->Laravel\Sanctum\Http\Middleware\{closure}(Object(Illuminate\Http\Request))
#20 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#21 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#22 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle(Object(Illuminate\Http\Request), Object(Closure))
#23 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#24 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#25 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack(Object(Illuminate\Routing\Route), Object(Illuminate\Http\Request))
#26 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute(Object(Illuminate\Http\Request), Object(Illuminate\Routing\Route))
#27 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute(Object(Illuminate\Http\Request))
#28 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch(Object(Illuminate\Http\Request))
#29 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}(Object(Illuminate\Http\Request))
#30 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#31 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#32 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle(Object(Illuminate\Http\Request), Object(Closure))
#33 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#34 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#35 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle(Object(Illuminate\Http\Request), Object(Closure))
#36 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#37 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle(Object(Illuminate\Http\Request), Object(Closure))
#38 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#39 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle(Object(Illuminate\Http\Request), Object(Closure))
#40 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#41 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle(Object(Illuminate\Http\Request), Object(Closure))
#42 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#43 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle(Object(Illuminate\Http\Request), Object(Closure))
#44 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#45 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle(Object(Illuminate\Http\Request), Object(Closure))
#46 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#47 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle(Object(Illuminate\Http\Request), Object(Closure))
#48 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#49 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#50 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter(Object(Illuminate\Http\Request))
#51 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle(Object(Illuminate\Http\Request))
#52 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call('POST', '/api/v1/orders', Array, Array, Array, Array, '{"items":[{"pro...')
#53 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json('POST', '/api/v1/orders', Array, Array, 0)
#54 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\tests\Feature\OrderPlacementTest.php(70): Illuminate\Foundation\Testing\TestCase->postJson('/api/v1/orders', Array)
#55 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\Framework\TestCase.php(1657): Tests\Feature\OrderPlacementTest->test_user_can_place_order()
#56 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\Framework\TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#57 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#58 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run(Object(Tests\Feature\OrderPlacementTest))
#59 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#60 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#61 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run(Object(PHPUnit\TextUI\Configuration\Configuration), Object(PHPUnit\Runner\ResultCache\DefaultResultCache), Object(PHPUnit\Framework\TestSuite))
#62 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run(Array)
#63 {main}

----------------------------------------------------------------------------------

SQLSTATE[HY000]: General error: 1 no such column: carts.user_id (Connection: sqlite, SQL: delete from "carts" where "carts"."user_id" = 1 and "carts"."user_id" is not null)

#0 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\Framework\Constraint\IsIdentical.php(78): PHPUnit\Framework\Constraint\Constraint->fail(400, 'Expected respon...', NULL)
#1 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\Framework\Assert.php(2573): PHPUnit\Framework\Constraint\IsIdentical->evaluate(400, 'Expected respon...')
#2 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\Framework\Assert.php(1660): PHPUnit\Framework\Assert::assertThat(400, Object(PHPUnit\Framework\Constraint\IsIdentical), 'Expected respon...')
#3 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php(45): PHPUnit\Framework\Assert::assertSame(201, 400, 'Expected respon...')
#4 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php(174): Illuminate\Testing\TestResponseAssert->__call('assertSame', Array)
#5 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\tests\Feature\OrderPlacementTest.php(77): Illuminate\Testing\TestResponse->assertStatus(201)
#6 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\Framework\TestCase.php(1657): Tests\Feature\OrderPlacementTest->test_user_can_place_order()
#7 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\Framework\TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#8 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#9 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run(Object(Tests\Feature\OrderPlacementTest))
#10 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#11 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#12 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run(Object(PHPUnit\TextUI\Configuration\Configuration), Object(PHPUnit\Runner\ResultCache\DefaultResultCache), Object(PHPUnit\Framework\TestSuite))
#13 C:\Users\PC5\.gemini\antigravity\scratch\ecommerce-shophub\backend\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run(Array)
#14 {main}